# ููุฒุฉ ุนุฑุถ ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูุนุฑุถ **ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ ููุฏุฑุฌุงุช** ูู ุตูุญุฉ ุงูุทุงูุจ. ูุธูุฑ ุงูุชุงุฑูุฎ ุจุงูุชูููููู ุงููุฌุฑู ูุงููููุงุฏู ุจุนุฏ ุฃู ูุณุชุนูู ุงูุทุงูุจ ุนู ุฏุฑุฌุงุชู.

## ุงููููุงุช ุงููุถุงูุฉ

### 1. `save_update_date.py`
ุณูุฑูุจุช Python ุฌุฏูุฏ ูุญูุธ ุชุงุฑูุฎ ูููุช ุงูุชุญุฏูุซ ุงูุญุงูู.

**ุงููุธููุฉ:**
- ูุญุตู ุนูู ุงูุชุงุฑูุฎ ูุงูููุช ุงูุญุงูู (ูููุงุฏู)
- ูุญูู ุงูุชุงุฑูุฎ ุฅูู ุงูุชูููู ุงููุฌุฑู ุจุงุณุชุฎุฏุงู `umm_alqura_calendar.py`
- ูุญูุธ ููุง ุงูุชุงุฑูุฎูู ูู ููู `last_update.json`

**ุงูุงุณุชุฎุฏุงู:**
```bash
python save_update_date.py
```

**ุงูุฅุฎุฑุงุฌ:**
```json
{
  "last_update": {
    "gregorian": {
      "date": "2025-11-11",
      "time": "22:03",
      "full": "2025-11-11 22:03:26",
      "display": "2025-11-11 - 22:03"
    },
    "hijri": {
      "date": "ุงูุซูุงุซุงุก, 20 ุฌูุงุฏู ุงูุฃููู, 1447",
      "display": "ุงูุซูุงุซุงุก, 20 ุฌูุงุฏู ุงูุฃููู, 1447"
    },
    "timestamp": 1762887806
  }
}
```

### 2. `last_update.json`
ููู JSON ูุญุชูู ุนูู ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ. ูุชู ุฅูุดุงุคู ูุชุญุฏูุซู ุชููุงุฆูุงู ุนูุฏ ุชุดุบูู `update_all.bat` ุฃู `update_all.ps1`.

## ุงูุชุนุฏููุงุช ุนูู ุงููููุงุช ุงูููุฌูุฏุฉ

### 1. `update_all.bat` ู `update_all.ps1`
**ุงูุชุนุฏูู:** ุฅุถุงูุฉ ุฎุทูุฉ ุฌุฏูุฏุฉ (3.5) ุชููู ุจุชุดุบูู `save_update_date.py` ุจุนุฏ ุชุญููู ุฌููุน ูููุงุช Excel ููุจู ุฑูุน ุงูุชุญุฏูุซุงุช ุฅูู GitHub.

**ุงูุฎุทูุฉ ุงููุถุงูุฉ:**
```batch
REM =====================================================
REM ุงูุฎุทูุฉ 3.5: ุญูุธ ุชุงุฑูุฎ ุงูุชุญุฏูุซ
REM =====================================================
echo ๐ ุญูุธ ุชุงุฑูุฎ ุงูุชุญุฏูุซ...
python save_update_date.py
if errorlevel 1 (
    echo โ๏ธ  ุชุญุฐูุฑ: ูุดู ุญูุธ ุชุงุฑูุฎ ุงูุชุญุฏูุซ
) else (
    echo โ ุชู ุญูุธ ุชุงุฑูุฎ ุงูุชุญุฏูุซ
)
```

**ุงูุชุนุฏูู ุนูู Git:**
- ุชู ุฅุถุงูุฉ `last_update.json` ุฅูู ูููุงุช Git ุงูุชู ูุชู ุฑูุนูุง:
```batch
git add period1.json period2.json notes.json last_update.json
```

### 2. `index.html`
**ุงูุชุนุฏููุงุช:**

#### ุฃ. CSS ุฌุฏูุฏ
ุชู ุฅุถุงูุฉ ุชูุณูู CSS ูุตูุฏูู ุนุฑุถ ุชุงุฑูุฎ ุงูุชุญุฏูุซ:
```css
.last-update-info {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 15px 20px;
    margin-bottom: 20px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
}
```

#### ุจ. HTML ุฌุฏูุฏ
ุชู ุฅุถุงูุฉ ุนูุตุฑ HTML ูุนุฑุถ ุงูุชุงุฑูุฎ ุฏุงุฎู ุจุทุงูุฉ ุงููุชุงุฆุฌ:
```html
<div class="last-update-info" id="lastUpdateInfo" style="display: none;">
    <p><span class="update-icon">๐</span> ุขุฎุฑ ุชุญุฏูุซ ููุฏุฑุฌุงุช</p>
    <p class="update-date" id="lastUpdateDate">ุฌุงุฑู ุงูุชุญููู...</p>
</div>
```

#### ุฌ. JavaScript ุฌุฏูุฏ
ุชู ุฅุถุงูุฉ ููุฏ ูุฌูุจ ูุนุฑุถ ุชุงุฑูุฎ ุงูุชุญุฏูุซ:

**1. ุชุญููู ุงูุจูุงูุงุช:**
```javascript
async function loadLastUpdate() {
    try {
        const response = await fetch('last_update.json?v=' + new Date().getTime());
        if (response.ok) {
            lastUpdateData = await response.json();
            console.log('โ ุชู ุชุญููู ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ');
        }
    } catch (error) {
        console.log('โ๏ธ ูู ูุชู ุงูุนุซูุฑ ุนูู ุชุงุฑูุฎ ุงูุชุญุฏูุซ');
    }
}
loadLastUpdate();
```

**2. ุนุฑุถ ุงูุชุงุฑูุฎ:**
```javascript
function displayLastUpdate() {
    const lastUpdateInfo = document.getElementById('lastUpdateInfo');
    const lastUpdateDate = document.getElementById('lastUpdateDate');
    
    if (lastUpdateData && lastUpdateData.last_update) {
        const update = lastUpdateData.last_update;
        
        // ุนุฑุถ ุงูุชุงุฑูุฎ ุงููุฌุฑู ูุงููููุงุฏู
        let dateText = '';
        if (update.hijri && update.hijri.display) {
            dateText = `๐ ${update.hijri.display}`;
        }
        if (update.gregorian && update.gregorian.display) {
            if (dateText) dateText += '<br>';
            dateText += `๐ ${update.gregorian.display}`;
        }
        
        if (dateText) {
            lastUpdateDate.innerHTML = dateText;
            lastUpdateInfo.style.display = 'block';
        }
    }
}
```

**3. ุงุณุชุฏุนุงุก ุนูุฏ ุนุฑุถ ุงููุชุงุฆุฌ:**
```javascript
if (studentPeriod1 || studentPeriod2) {
    displayStudentData(studentPeriod1, studentPeriod2);
    resultCard.classList.add('show');
    
    // ุนุฑุถ ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ
    displayLastUpdate();
    
    // ... ุจููุฉ ุงูููุฏ
}
```

## ุขููุฉ ุงูุนูู

### 1. ุนูุฏ ุชุดุบูู ุงูุชุญุฏูุซ
```
1. ุงููุณุชุฎุฏู ูุดุบู update_all.bat ุฃู update_all.ps1
2. ุชุญููู Excel โ JSON ูููุชุฑุฉ ุงูุฃููู
3. ุชุญููู Excel โ JSON ูููุชุฑุฉ ุงูุซุงููุฉ
4. ุชุญููู Excel โ JSON ููููุงุญุธุงุช
5. โจ **ุฌุฏูุฏ:** ุชุดุบูู save_update_date.py
   - ุญูุธ ุงูุชุงุฑูุฎ ุงููููุงุฏู ุงูุญุงูู
   - ุชุญููู ุงูุชุงุฑูุฎ ูููุฌุฑู
   - ุญูุธ ููุง ุงูุชุงุฑูุฎูู ูู last_update.json
6. ุฑูุน ุฌููุน ูููุงุช JSON ุฅูู GitHub (ุจูุง ูููุง last_update.json)
7. ุงููุดุฑ ุนูู GitHub Pages
```

### 2. ุนูุฏ ุงุณุชุนูุงู ุงูุทุงูุจ
```
1. ุงูุทุงูุจ ูุฏุฎู ุฑูู ุงููููุฉ
2. ูุชู ุฌูุจ ุจูุงูุงุช period1.json ู period2.json ู notes.json
3. โจ **ุฌุฏูุฏ:** ูุชู ุฌูุจ last_update.json
4. ุนุฑุถ ุจูุงูุงุช ุงูุทุงูุจ
5. โจ **ุฌุฏูุฏ:** ุนุฑุถ ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ ูู ุตูุฏูู ูููู ูู ุฃุนูู ุงูุจุทุงูุฉ
   - ๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู
   - ๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู ูุน ุงูููุช
```

## ูุซุงู ุนูู ุงูุนุฑุถ

ุนูุฏ ุงุณุชุนูุงู ุงูุทุงูุจ ุนู ุฏุฑุฌุงุชูุ ุณูุธูุฑ ุตูุฏูู ูููู ุจุงูุฃุนูู:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ุขุฎุฑ ุชุญุฏูุซ ููุฏุฑุฌุงุช                  โ
โ                                         โ
โ  ๐ ุงูุซูุงุซุงุก, 20 ุฌูุงุฏู ุงูุฃููู, 1447   โ
โ  ๐ 2025-11-11 - 22:03                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ุงูููุงุฆุฏ

1. **ุงูุดูุงููุฉ:** ุงูุทูุงุจ ูุนุฑููู ูุชู ุชู ุชุญุฏูุซ ุงูุฏุฑุฌุงุช ุขุฎุฑ ูุฑุฉ
2. **ุงูุซูุฉ:** ุชุฃููุฏ ุฃู ุงูุจูุงูุงุช ูุญุฏุซุฉ
3. **ุงูุชูููููู:** ุนุฑุถ ุงูุชุงุฑูุฎ ุจุงููุฌุฑู ูุงููููุงุฏู ูุณูููุฉ ุงูููู
4. **ุงูุชููุงุฆูุฉ:** ูุชู ุงูุชุญุฏูุซ ุชููุงุฆูุงู ุฏูู ุชุฏุฎู ูุฏูู

## ุงูุงุฎุชุจุงุฑ

ูุงุฎุชุจุงุฑ ุงูููุฒุฉ:

1. **ุงุฎุชุจุงุฑ ุงูุณูุฑูุจุช:**
```bash
python save_update_date.py
```

2. **ุงุฎุชุจุงุฑ ุงูุชุญุฏูุซ ุงููุงูู:**
```bash
update_all.bat
# ุฃู
update_all.ps1
```

3. **ุงุฎุชุจุงุฑ ุงูุนุฑุถ:**
- ุงูุชุญ `index.html` ูู ุงููุชุตูุญ
- ุฃุฏุฎู ุฑูู ูููุฉ ุทุงูุจ
- ุชุญูู ูู ุธููุฑ ุตูุฏูู ุชุงุฑูุฎ ุงูุชุญุฏูุซ ูู ุฃุนูู ุงูุจุทุงูุฉ

## ููุงุญุธุงุช ุชูููุฉ

- **Cache Busting:** ูุณุชุฎุฏู `?v=timestamp` ูุชุฌูุจ ุงูุชุฎุฒูู ุงููุคูุช ูุถูุงู ุชุญููู ุฃุญุฏุซ ูุณุฎุฉ
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:** ุฅุฐุง ูู ูุชู ุงูุนุซูุฑ ุนูู `last_update.json`ุ ูู ูุธูุฑ ุงูุตูุฏูู ููู ุชุชุนุทู ุงูุตูุญุฉ
- **ุงูุชูุงูู:** ูุนูู ูุน ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ
- **ุงูุฃุฏุงุก:** ุชุญููู ููู JSON ุตุบูุฑ ูุง ูุคุซุฑ ุนูู ุณุฑุนุฉ ุงูุตูุญุฉ

## ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

1. ุนุฑุถ "ููุฐ X ุฃูุงู" ุจุฏูุงู ูู ุงูุชุงุฑูุฎ ููุท
2. ุฅุถุงูุฉ ููุณ ุงูููุฒุฉ ูู ุตูุญุฉ ุงูุฅุฏุงุฑุฉ (`admin.html`)
3. ุนุฑุถ ุชูุจูู ุฅุฐุง ูุงู ุงูุชุญุฏูุซ ูุฏูู (ูุซูุงู ุฃูุซุฑ ูู ุฃุณุจูุน)
4. ุฅุถุงูุฉ ุณุฌู ุจุชูุงุฑูุฎ ุงูุชุญุฏูุซุงุช ุงูุณุงุจูุฉ
